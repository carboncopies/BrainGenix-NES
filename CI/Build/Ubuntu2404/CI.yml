Ubuntu_2404_Build:
  image: "${CI_REGISTRY_IMAGE}:build_ubuntu2404"
  tags:
   - linux
  stage: Build
  script:
    - cd Tools
    - bash Build.sh Release 10
  artifacts:
    name: "$PLATFORM_BUILD_PREAMBLE-Ubuntu24.04"
    paths:
      - Build/
      - Binaries/
      - "**/*.log"
    when: always
    
  cache:
    # Inherit global cache settings but add build-specific optimizations
    - key: 
        files:
          - vcpkg.json
          - CMakeLists.txt
        prefix: "build-$CI_COMMIT_REF_SLUG"
      paths:
        - Build/
        - .ccache/
        - vcpkg_installed/
        - ThirdParty/vcpkg/downloads/
        - ThirdParty/vcpkg/buildtrees/
        - ThirdParty/**/*
      policy: pull-push

